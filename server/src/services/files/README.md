# Сервисы files/...

# files/generated

Работа с хранилищем сгенерированных файлов

- Выдача id файлов и fullpath для новых файлов, на основе информации о том для кого предназначен данный файл

- Выдача пути к файлу, по его id, для download/middleware

- Опеределение суммарного размера файлов для данного пользователя / компании

- Удаление файла по id 

# files/temp

Хранилище временных файлов

- Выдача путей для новых файлов

- Удаление уже не нужных файлов по их пути

- Метод, который удаляет все временные файлы старше определенного периода

- Запускает interaction, который регулярно прогоняет метод по удаленнию устаревших файлов

TODO: Добавлять IA в транзакции в которой проверять, что такого IA уже нет - чтоб не добавить два из разных node

# files/upload

Хранилище загружаемых файлов

- Методы сервиса описаны в JSDoc-формате в files/upload/index.js

- Логика аналогична логике сервиса files/generated

- Добавлено поле options (jsonb) в таблицу с файлами

- Для загрузки с помощью HTTP можно воспользоваться upload2/middleware
